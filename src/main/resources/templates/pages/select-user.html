<!DOCTYPE HTML>
<html lang="en" class="govuk-template" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{ layout/main-layout :: layout(~{::title},~{::main})}">
<title>CWA Bulk Upload - Home</title>
<main class="govuk-main-wrapper" id="main-content">
    <form th:action="@{/upload}" method="POST" enctype="multipart/form-data">
        <div class="govuk-width-container">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds">
                    <div th:if="${errors != null && !errors.isEmpty()}" class="govuk-error-summary"
                         data-module="govuk-error-summary">
                        <div role="alert">
                            <h2 class="govuk-error-summary__title">
                                There is a problem
                            </h2>
                            <div class="govuk-error-summary__body">
                                <ul class="govuk-list govuk-error-summary__list">
                                    <li th:each="err : ${errors}">
                                        <a th:text="${err.value}" th:href="'#' + ${err.key}"></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <h1 class="govuk-heading-xl">CWA Bulk Upload</h1>
                    <div class="govuk-form-group"
                         th:classappend="${errors != null && errors.containsKey('provider') ? 'govuk-form-group--error' : ''}">
                        <label class="govuk-label" for="selectedUser">
                            Select test user
                        </label>
                        <p th:if="${errors != null && errors.containsKey('provider')}" id="provider-error"
                           class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span>
                            <span th:text="${errors['provider']}"></span>
                        </p>
                        <select class="govuk-select" id="selectedUser" name="selectedUser"
                                th:classappend="${errors != null && errors.containsKey('provider') ? 'govuk-select--error' : ''}"
                                th:aria-describedby="${errors != null && errors.containsKey('provider') ? 'provider-error' : ''}">
                            <option value="">choose option</option>
                            <option value="DT_SCRIPT_USER4">DDT_SCRIPT_USER4</option>
                            <option value="DT_SCRIPT_USER14">DDT_SCRIPT_USER14</option>
                            <option value="DT_SCRIPT_USER19">DDT_SCRIPT_USER19</option>
                        </select>
                    </div>
                    <button type="submit" class="govuk-button" th:formaction="@{/select-user}"
                            data-module="govuk-button">Next
                    </button>
                </div>
            </div>
        </div>
    </form>
    <script src="/javascripts/upload.js"></script>
</main>
</html>